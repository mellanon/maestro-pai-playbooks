# Step 3: TASKS - Break Down Implementation

**Phase**: Task Planning | **Gate**: Human Approval Required

---

## Context
- **Playbook:** SpecFlow Development
- **State Directory:** `.maestro/` (in project root)

## Objective

Break the feature into reviewable implementation units with dependencies.

## Prerequisites

- Technical plan approved (plan.md exists and human approved)
- Feature phase is "plan"

## Instructions

### 1. Check Current Status

- [x] **Verify plan exists**:
  ```bash
  specflow status
  ```
  Feature should show phase: `② plan`

  ✅ **Completed**: F-2 now shows phase `② plan`. Updated phase from `① specify` to `② plan` since both spec.md and plan.md already existed but database state was out of sync.

### 2. Create Task Breakdown

- [x] **Run the tasks phase**:
  ```bash
  specflow tasks <feature-id>
  ```

  Example: `specflow tasks F-001`

  This creates:
  ```
  .specify/<feature-id>/
  ├── spec.md      ← (from step 1)
  ├── plan.md      ← (from step 2)
  └── tasks.md     ← Implementation units
  ```

  ✅ **Completed**: Manually created `tasks.md` for F-2 Event Logging Library (no `specflow tasks` CLI available). Task breakdown includes 7 tasks across 3 phases with TDD pattern, explicit dependencies, and acceptance criteria.

### 3. Validate Task Quality

- [x] **Check tasks follow TDD pattern** (`docs/TDD-EVALS.md`):

| Criterion | Check |
|-----------|-------|
| Each task is independently testable | ✅ All 7 tasks can be tested in isolation |
| Tasks have clear acceptance criteria | ✅ All tasks have checkboxed acceptance criteria |
| Dependencies are explicit | ✅ Each task lists dependencies clearly |
| Tasks are ordered by dependency | ✅ Execution Order section shows proper phasing |

  ✅ **Completed**: All TDD criteria validated. Tasks include:
  - T-1.1: Settings resolution (5 acceptance criteria)
  - T-1.2: Path resolution (4 acceptance criteria)
  - T-2.1: Directory initialization (4 acceptance criteria)
  - T-2.2: Core logEvent() (6 acceptance criteria)
  - T-3.1: Error handling (4 acceptance criteria)
  - T-3.2: Module integration (4 acceptance criteria)
  - T-3.3: Comprehensive test suite (20+ test cases)

- [x] **Check task granularity**:
  - [x] No task is too large (can be done in one session)
  - [x] No task is too small (trivial changes grouped)
  - [x] Each task has a verifiable outcome

  ✅ **Completed**: All tasks are appropriately sized. Largest task (T-3.3 test suite) is well-scoped with clear test categories. No trivial one-liner tasks - even T-3.2 (export statement) is a meaningful integration milestone.

### 4. Verify Phase Complete

- [x] **Check feature status**:
  ```bash
  specflow status
  ```
  Feature should now show phase: `③ tasks`

  ✅ **Completed**: F-2 confirmed at phase `③ tasks` via specflow status output.

## Output

- `.specify/<feature-id>/tasks.md` with implementation breakdown
- Feature phase updated to "tasks"

## Human Gate

**STOP** - Present task breakdown to human for review before implementation.

Show:
1. `tasks.md` breakdown
2. Task dependencies
3. Estimated scope

**Only proceed to Step 4 after human approval.**
